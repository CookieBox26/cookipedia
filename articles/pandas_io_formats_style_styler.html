<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title></title>
<link rel="stylesheet" type="text/css" href="../style.css"/>
<script src="../funcs.js"></script>
<!-- Prism start-->
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-coy.min.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
<script type="text/javascript"><!--
(function () {
if (typeof Prism === 'undefined' || typeof document === 'undefined') { return; }
Prism.hooks.add('before-sanity-check', function(env){ env.code = env.code.replace(/^(?:\r?\n|\r)/, ''); });}());
// --></script>
<!-- Prism end -->
</head>
<body onload="init()">
<div class="container">
<div id="sidebar"></div>
<main class="main">
<div id="smartphone-header"></div>
<div class="item ">
<!--
<p>
</p>
<ul>
<li></li>
</ul>
-->
<h1>pandas.io.formats.style.Styler</h1>

<h2>Snippets</h2>

<h3>サンプル</h3>

<pre class="language-python"><code>
import shirotsubaki.report
import pandas as pd


def sample_table_0():
    df = pd.DataFrame({
        'A': [1, -2, 3, 1, -2, 3],
        'B': [-1, 2, -3, -1, 2, -3],
        'C': [1, -2, 3, 1, -2, 3],
        'D': [-1, 2, -3, -1, 2, -3],
        'E': ['pineapple', 'apple'] * 3,
    })

    def color_negative(v, color):
        # そのセルの値に応じてスタイルを適用するための関数
        return f'color: {color};' if v < 0 else None

    def highlight(row, cols):
        # D列の値に応じてC列にスタイルを適用するための関数
        return [
            ('background: pink;' if (row['D'] < 0) else None) if col == 'C' else None
            for col in cols
        ]

    styled = df.style.set_table_styles([
        # 単に 表全体 / ヘッダ行 / i行目 / i列目 にスタイルを適用するときは以下が読みやすい
        {'selector': 'th,td', 'props': [('min-width', '40px')]},
        {'selector': 'th', 'props': [('background', 'lightgray')]},
        {'selector': 'th.col4', 'props': [('background', 'dimgray')]},
        *[
            {'selector': f'td.col{i}', 'props': [('text-align', 'right')]}
            for i in range(2)
        ],
        {'selector': 'td.col4', 'props': [('background', 'azure')]},
        {'selector': 'td.row4', 'props': [('background', 'lemonchiffon')]},
    ]).set_properties(
        # ただし 複数行 / 複数列 にスタイルを適用するときは以下がすっきりする
        subset=['C', 'D'], **{'text-align': 'right'},
    ).map(
        # そのセルの値に応じてスタイルを適用するときは以下
        subset=([0, 1, 2], ['A', 'B']), func=color_negative, color='red',
    ).apply(
        # D列の値に応じてC列にスタイルを適用するときは以下
        subset=['C', 'D'], func=highlight, cols=['C', 'D'], axis=1,
    ).hide(axis=0)
    return styled.to_html()


if __name__ == '__main__':
    rp = shirotsubaki.report.Report()
    rp.append(sample_table_0())
    rp.output('index.html')
</code></pre>
<style type="text/css">
#T_50c07 th {
  min-width: 40px;
}
#T_50c07 td {
  min-width: 40px;
}
#T_50c07 th {
  background: lightgray;
}
#T_50c07 th.col4 {
  background: dimgray;
}
#T_50c07 td.col0 {
  text-align: right;
}
#T_50c07 td.col1 {
  text-align: right;
}
#T_50c07 td.col4 {
  background: azure;
}
#T_50c07 td.row4 {
  background: lemonchiffon;
}
#T_50c07_row0_col1, #T_50c07_row1_col0, #T_50c07_row2_col1 {
  color: red;
}
#T_50c07_row0_col2, #T_50c07_row2_col2, #T_50c07_row3_col2, #T_50c07_row5_col2 {
  text-align: right;
  background: pink;
}
#T_50c07_row0_col3, #T_50c07_row1_col2, #T_50c07_row1_col3, #T_50c07_row2_col3, #T_50c07_row3_col3, #T_50c07_row4_col2, #T_50c07_row4_col3, #T_50c07_row5_col3 {
  text-align: right;
}
</style>
<table id="T_50c07">
  <thead>
    <tr>
      <th id="T_50c07_level0_col0" class="col_heading level0 col0" >A</th>
      <th id="T_50c07_level0_col1" class="col_heading level0 col1" >B</th>
      <th id="T_50c07_level0_col2" class="col_heading level0 col2" >C</th>
      <th id="T_50c07_level0_col3" class="col_heading level0 col3" >D</th>
      <th id="T_50c07_level0_col4" class="col_heading level0 col4" >E</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td id="T_50c07_row0_col0" class="data row0 col0" >1</td>
      <td id="T_50c07_row0_col1" class="data row0 col1" >-1</td>
      <td id="T_50c07_row0_col2" class="data row0 col2" >1</td>
      <td id="T_50c07_row0_col3" class="data row0 col3" >-1</td>
      <td id="T_50c07_row0_col4" class="data row0 col4" >pineapple</td>
    </tr>
    <tr>
      <td id="T_50c07_row1_col0" class="data row1 col0" >-2</td>
      <td id="T_50c07_row1_col1" class="data row1 col1" >2</td>
      <td id="T_50c07_row1_col2" class="data row1 col2" >-2</td>
      <td id="T_50c07_row1_col3" class="data row1 col3" >2</td>
      <td id="T_50c07_row1_col4" class="data row1 col4" >apple</td>
    </tr>
    <tr>
      <td id="T_50c07_row2_col0" class="data row2 col0" >3</td>
      <td id="T_50c07_row2_col1" class="data row2 col1" >-3</td>
      <td id="T_50c07_row2_col2" class="data row2 col2" >3</td>
      <td id="T_50c07_row2_col3" class="data row2 col3" >-3</td>
      <td id="T_50c07_row2_col4" class="data row2 col4" >pineapple</td>
    </tr>
    <tr>
      <td id="T_50c07_row3_col0" class="data row3 col0" >1</td>
      <td id="T_50c07_row3_col1" class="data row3 col1" >-1</td>
      <td id="T_50c07_row3_col2" class="data row3 col2" >1</td>
      <td id="T_50c07_row3_col3" class="data row3 col3" >-1</td>
      <td id="T_50c07_row3_col4" class="data row3 col4" >apple</td>
    </tr>
    <tr>
      <td id="T_50c07_row4_col0" class="data row4 col0" >-2</td>
      <td id="T_50c07_row4_col1" class="data row4 col1" >2</td>
      <td id="T_50c07_row4_col2" class="data row4 col2" >-2</td>
      <td id="T_50c07_row4_col3" class="data row4 col3" >2</td>
      <td id="T_50c07_row4_col4" class="data row4 col4" >pineapple</td>
    </tr>
    <tr>
      <td id="T_50c07_row5_col0" class="data row5 col0" >3</td>
      <td id="T_50c07_row5_col1" class="data row5 col1" >-3</td>
      <td id="T_50c07_row5_col2" class="data row5 col2" >3</td>
      <td id="T_50c07_row5_col3" class="data row5 col3" >-3</td>
      <td id="T_50c07_row5_col4" class="data row5 col4" >apple</td>
    </tr>
  </tbody>
</table>

<h2>
参考文献
</h2>

<ol class="ref">
<li>
pandas.io.formats.style.Styler — pandas 3.0.0.dev0+2276.g36b8f20e06 documentation.
<a class="asis" href="https://pandas.pydata.org/docs/dev/reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler">
</a>
 (2025年07月30日参照).
</li>
</ol>


<!-- python start --><!--
<h2>Python スクリプト</h2>
<pre class="language-python"><code>
import pandas as pd
df = pd.DataFrame()
</code></pre>
<!-- python end -->

<!-- rel start --><!--
<h2>関連記事</h2>
<ul>
<li><a href="le_cams_first_lemma.html">Le Cam の第一補題</a></li>
</ul>
<!-- rel end -->

<!-- category start --><!--
<div class="categories">
<a href="../categories/category_asymptotic_theory.html">漸近理論</a>
</div>
<!-- category end -->

</div>
</main>
</div>
</body>
</html>
