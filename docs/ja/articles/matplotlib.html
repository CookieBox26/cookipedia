<!DOCTYPE HTML>

<html>
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>matplotlib - Cookipedia</title>
<!-- Prism start-->
<link crossorigin="anonymous" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-coy.min.css" integrity="sha512-LOT5F67SMZVdXMrvQe4S1ZHu5l6xk3CST2qqno9kY329OsJBBpybnq+fM9qG4ZSaNzPOjoGzHAeBamSSJyyuZg==" referrerpolicy="no-referrer" rel="stylesheet"/>
<script crossorigin="anonymous" defer="" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script crossorigin="anonymous" defer="" integrity="sha512-AKaNmg8COK0zEbjTdMHJAPJ0z6VeNqvRvH4/d5M4sHJbQQUToMBtodq4HaV4fa+WV2UTfoperElm66c9/8cKmQ==" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
<!-- Prism end -->
<link href="../../css/style.css?v=2025-10-21" rel="stylesheet" type="text/css"/><link href="../../css/cookipedia.css?v=2025-10-19" rel="stylesheet" type="text/css"/><script data-lang="ja" data-mainpage="false" data-repo="cookipedia" defer="True" id="app" src="../../funcs.js?v=2025-10-18"></script></head>
<body>
<div class="container">
<div id="sidebar"></div>
<main class="main">
<div id="smartphone-header"></div>
<div class="item">
<h1>matplotlib</h1>
<h2>Gists</h2>
<ul>
<li><a href="https://gist.github.com/CookieBox26/2f4016254b05efae4134a25925b98881">2軸グラフサンプル</a></li>
</ul>
<h2>Snippets</h2>
<h3>フォントが未追加のときに TTF から追加する</h3>
<pre class="language-python"><code>
%matplotlib inline  
import matplotlib.pyplot as plt
from matplotlib import font_manager
if 'VL Gothic' not in font_manager.fontManager.ttflist:
    path_to_ttf = '/usr/share/fonts/truetype/vlgothic/VL-Gothic-Regular.ttf'
    font_manager.fontManager.addfont(path_to_ttf)
plt.rcParams['font.family'] = 'VL Gothic'
plt.rcParams['font.size'] = 14
</code></pre>
<h3>可搬性のために複数フォントを指定する</h3>
<pre class="language-python"><code>
%matplotlib inline  
import matplotlib.pyplot as plt
plt.rcParams['font.family'] = 'sans-serif'
plt.rcParams['font.sans-serif'] = [
    'Rounded Mplus 1c', 'Hiragino Maru Gothic Pro', 'IPAPGothic', 'Meiryo']
</code></pre>
<h3>グラフを画像ファイルまたは Base64 文字列に保存する</h3>
<pre class="language-python"><code>
%matplotlib inline  
import matplotlib.pyplot as plt
from IPython.display import HTML, display
import base64
import io

def to_figure(filename, format='png', bbox_inches='tight'):
    # 画像ファイル名指定時はファイルに保存、未指定時は base64 文字列をコピーするボタンを表示。
    kwargs = {'format': format, 'bbox_inches': bbox_inches}
    if filename is not None:
        plt.savefig(filename, **kwargs)
        return
    pic_io_bytes = io.BytesIO()
    plt.savefig(pic_io_bytes, **kwargs)
    pic_io_bytes.seek(0)
    base64_img = base64.b64encode(pic_io_bytes.read()).decode('utf8')
    display(HTML(f"""
    &lt;button onclick="navigator.clipboard.writeText('{base64_img}')"&gt;Copy Image as Base64&lt;/button&gt;
    """))

# &lt;img width="80%" src="data:image/png;base64, ここにペースト /&gt;
</code></pre>
<div class="categories">
<a href="../categories/python.html">Python</a>
</div>
</div>
</main>
</div>
</body>
</html>
